{"ast":null,"code":"var _jsxFileName = \"C:\\\\Final Project\\\\register\\\\src\\\\components\\\\Register\\\\index.js\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { TextField, Button, Typography, Link, Select, MenuItem, FormControl, InputLabel, Card } from '@mui/material';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport { showAlert, API_BASE_URL } from '../function';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Register() {\n  _s();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [role, setRole] = useState('');\n  const navigate = useNavigate();\n  const handleLoginLinkClick = e => {\n    e.preventDefault();\n    navigate('/login');\n  };\n  const handleRegister = async () => {\n    try {\n      const response = await axios.post(`${API_BASE_URL}/api/v1/auth/register`, {\n        username,\n        password,\n        role\n      });\n      showAlert('success', 'Registration Successful', 'You can now log in with your credentials');\n      console.log('Registration successful', response.data);\n      navigate('/login');\n    } catch (error) {\n      if (error.response && error.response.status === 400 && error.response.data.message) {\n        showAlert('error', 'Registration Failed', `<b>[CODE] ${error.response.data.message}</b><br>Please check your username and password`);\n      } else {\n        showAlert('error', 'Registration Failed', `<b>[CODE] </b><br>An error occured during registration. Please try again later`);\n      }\n      console.error('Registration error', error.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Card, {\n    style: {\n      textAlign: 'center',\n      margin: '90px auto',\n      padding: '30px',\n      maxWidth: '400px',\n      color: '#265073',\n      fontSize: '56px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      gutterBottom: true,\n      children: \"REGISTER\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      label: \"Username\",\n      variant: \"filled\",\n      fullWidth: true,\n      margin: \"normal\",\n      placeholder: \"Enter your username\",\n      value: username,\n      onChange: e => setUsername(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      label: \"Password\",\n      type: \"password\",\n      variant: \"filled\",\n      fullWidth: true,\n      margin: \"normal\",\n      placeholder: \"Enter your password\",\n      value: password,\n      onChange: e => setPassword(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n      fullWidth: true,\n      margin: \"normal\",\n      variant: \"filled\",\n      children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n        id: \"role-label\",\n        children: \"Role\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Select, {\n        labelId: \"role-label\",\n        id: \"role\",\n        value: role,\n        onChange: e => setRole(e.target.value),\n        label: \"Role\",\n        children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n          value: \"admin\",\n          children: \"Admin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n          value: \"user\",\n          children: \"User\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: handleRegister,\n      style: {\n        marginTop: '20px'\n      },\n      children: \"Register\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      style: {\n        marginTop: '10px',\n        paddingTop: '10px'\n      },\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        href: \"#\",\n        onClick: handleLoginLinkClick,\n        target: \"_blank\",\n        rel: \"noopener\",\n        children: \"Login here if you already have an account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n_s(Register, \"1z7ZGKquXZ8DpQtTTZ2zP4zJprA=\", false, function () {\n  return [useNavigate];\n});\n_c = Register;\n;\nexport default Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["useState","TextField","Button","Typography","Link","Select","MenuItem","FormControl","InputLabel","Card","axios","useNavigate","showAlert","API_BASE_URL","jsxDEV","_jsxDEV","Register","_s","username","setUsername","password","setPassword","role","setRole","navigate","handleLoginLinkClick","e","preventDefault","handleRegister","response","post","console","log","data","error","status","message","style","textAlign","margin","padding","maxWidth","color","fontSize","children","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","label","fullWidth","placeholder","value","onChange","target","type","id","labelId","onClick","marginTop","paddingTop","href","rel","_c","$RefreshReg$"],"sources":["C:/Final Project/register/src/components/Register/index.js"],"sourcesContent":["import { useState } from 'react';\r\nimport { TextField, Button, Typography, Link, Select, MenuItem, FormControl, InputLabel, Card } from '@mui/material';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { showAlert, API_BASE_URL } from '../function'\r\n\r\n\r\nfunction Register () {\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [role, setRole] = useState('');\r\n    const navigate = useNavigate();\r\n\r\n    const handleLoginLinkClick = (e) => {\r\n        e.preventDefault();\r\n        navigate('/login');\r\n    }\r\n\r\n    const handleRegister = async () => {\r\n        try {\r\n            const response = await axios.post(`${API_BASE_URL}/api/v1/auth/register`, {\r\n                username,\r\n                password,\r\n                role,\r\n            });\r\n            showAlert('success', 'Registration Successful', 'You can now log in with your credentials');\r\n            console.log('Registration successful', response.data);\r\n            navigate ('/login');  \r\n        } catch (error) {\r\n\r\n            if (error.response && error.response.status === 400 && error.response.data.message) {\r\n                showAlert('error', 'Registration Failed', `<b>[CODE] ${error.response.data.message}</b><br>Please check your username and password`);\r\n            } else {\r\n                showAlert('error', 'Registration Failed', `<b>[CODE] </b><br>An error occured during registration. Please try again later`);\r\n            }\r\n            console.error('Registration error', error.message);\r\n        }\r\n    };\r\n\r\nreturn (\r\n    <Card style={{ textAlign: 'center', margin: '90px auto', padding: '30px', maxWidth: '400px', color: '#265073', fontSize: '56px'}}>\r\n        <Typography variant =\"h4\" gutterBottom>\r\n            REGISTER\r\n        </Typography>\r\n        <TextField\r\n            label=\"Username\"\r\n            variant=\"filled\"\r\n            fullWidth\r\n            margin=\"normal\"\r\n            placeholder=\"Enter your username\"\r\n            value={username}\r\n            onChange={(e) => setUsername(e.target.value)}\r\n            />\r\n        <TextField\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            variant=\"filled\"\r\n            fullWidth\r\n            margin=\"normal\"\r\n            placeholder=\"Enter your password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n        <FormControl fullWidth margin=\"normal\" variant=\"filled\">\r\n            <InputLabel id=\"role-label\">Role</InputLabel>\r\n            <Select\r\n                labelId=\"role-label\"\r\n                id=\"role\"\r\n                value={role}\r\n                onChange={(e) => setRole(e.target.value)}\r\n                label=\"Role\"\r\n            >\r\n                <MenuItem value =\"admin\">Admin</MenuItem>\r\n                <MenuItem value =\"user\">User</MenuItem>\r\n            </Select>\r\n        </FormControl>\r\n        <Button variant=\"contained\" color=\"primary\" onClick={handleRegister} style={{ marginTop: '20px'}}>\r\n            Register\r\n        </Button>\r\n        <Typography style={{ marginTop: '10px', paddingTop: '10px'}}>\r\n            <Link href=\"#\" onClick={handleLoginLinkClick} target=\"_blank\" rel=\"noopener\">\r\n                Login here if you already have an account \r\n            </Link>\r\n            </Typography>\r\n            </Card>\r\n    );     \r\n};\r\n\r\nexport default Register;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}