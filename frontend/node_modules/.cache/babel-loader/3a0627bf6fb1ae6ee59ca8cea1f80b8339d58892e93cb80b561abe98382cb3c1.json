{"ast":null,"code":"var _jsxFileName = \"C:\\\\Final Project\\\\register\\\\src\\\\components\\\\register\\\\index.js\",\n  _s = $RefreshSig$();\nimport { Button } from '@mui/material';\nimport Box from '@mui/material/Box';\nimport TextField from '@mui/material/TextField';\nimport Link from '@mui/material/Link';\nimport { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Register() {\n  _s();\n  // const [token, setToken] = useState(null)\n  const [registerName, setRegisterName] = useState('');\n  const [registerEmail, setRegisterEmail] = useState('');\n  const [registerPassword, setRegisterPassword] = useState('');\n  const navigate = useNavigate();\n  const handleLoginLinkClick = e => {\n    e.preventDefault();\n    navigate('/login');\n  };\n  const URL = process.env.REACT_APP_BE_ENDPOINT;\n  // console.log('URL', URL)  \n\n  const onRegisterSubmit = () => {\n    console.log(`name: ${registerName}, email: ${registerEmail}, password: ${registerPassword}`);\n    axios.post(`${URL}/v1/auth/register`, {\n      name: registerName,\n      email: registerEmail,\n      password: registerPassword\n    }).then(function (response) {\n      console.log('register success', response);\n      if (response && response.data && response.data.tokens && response.data.tokens.access) {\n        localStorage.setItem('token', JSON.stringify(response.data.tokens.access.token));\n        localStorage.setItem('user', JSON.stringify(response.data.user));\n        navigate('/login');\n      }\n    }).catch(function (error) {\n      if (error.response && error.response.status === 400 && error.response.data.message) {\n        window.alert('error', 'Registration Failed', `<b>[CODE] ${error.response.data.message}</b><br>Please check your username and password`);\n      } else {\n        window.alert('error', 'Registration Failed', `<b>[CODE] </b><br>An error occured during registration. Please try again later`);\n      }\n      console.error('Registration error', error.message);\n    });\n  };\n  console.log('data', registerName, registerEmail, registerPassword);\n\n  // useEffect(() => {\n  //   const tokenFromLS = localStorage.getItem('token')\n  //   setToken(tokenFromLS)\n  // }, [])\n\n  // console.log('token', token)\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      component: \"form\",\n      sx: {\n        '& .MuiTextField-root': {\n          mt: 1,\n          mb: 1,\n          width: '25ch'\n        },\n        height: '100vh',\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      noValidate: true,\n      autoComplete: \"off\",\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          flexDirection: 'column',\n          justifyContent: 'center',\n          alignItems: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          id: \"outlined-registerNameText\",\n          label: \"Name\",\n          defaultValue: \"\",\n          helperText: \"Type your name here\",\n          type: \"text\",\n          onChange: e => setRegisterName(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          id: \"outlined-registerEmailText\",\n          label: \"Email\",\n          defaultValue: \"\",\n          helperText: \"Type your email here\",\n          type: \"email\",\n          onChange: e => setRegisterEmail(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          id: \"outlined-registerPasswordText\",\n          label: \"Password\",\n          defaultValue: \"\",\n          helperText: \"Type your password here\",\n          type: \"password\",\n          onChange: e => setRegisterPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          onClick: () => onRegisterSubmit(),\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        href: \"#\",\n        onClick: handleLoginLinkClick,\n        target: \"_blank\",\n        rel: \"noopener\",\n        children: \"Login here if you already have an account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 9\n  }, this);\n}\n_s(Register, \"Qfw6a55JoILUEmQLL8xbymeoNh8=\", false, function () {\n  return [useNavigate];\n});\n_c = Register;\nexport default Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["Button","Box","TextField","Link","useState","useNavigate","axios","jsxDEV","_jsxDEV","Register","_s","registerName","setRegisterName","registerEmail","setRegisterEmail","registerPassword","setRegisterPassword","navigate","handleLoginLinkClick","e","preventDefault","URL","process","env","REACT_APP_BE_ENDPOINT","onRegisterSubmit","console","log","post","name","email","password","then","response","data","tokens","access","localStorage","setItem","JSON","stringify","token","user","catch","error","status","message","window","alert","children","component","sx","mt","mb","width","height","display","flexDirection","justifyContent","alignItems","noValidate","autoComplete","id","label","defaultValue","helperText","type","onChange","target","value","fileName","_jsxFileName","lineNumber","columnNumber","variant","onClick","href","rel","_c","$RefreshReg$"],"sources":["C:/Final Project/register/src/components/register/index.js"],"sourcesContent":["import { Button } from '@mui/material';\r\nimport Box from '@mui/material/Box';\r\nimport TextField from '@mui/material/TextField';\r\nimport Link from '@mui/material/Link';\r\nimport { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nfunction Register () {\r\n  // const [token, setToken] = useState(null)\r\n  const [registerName, setRegisterName] = useState('')\r\n  const [registerEmail, setRegisterEmail] = useState('')\r\n  const [registerPassword, setRegisterPassword] = useState('')  \r\n  const navigate = useNavigate();\r\n\r\n  const handleLoginLinkClick = (e) => {\r\n    e.preventDefault();\r\n    navigate('/login');\r\n  }\r\n\r\n  const URL = process.env.REACT_APP_BE_ENDPOINT\r\n  // console.log('URL', URL)  \r\n\r\n  const onRegisterSubmit = () => {\r\n    console.log(`name: ${registerName}, email: ${registerEmail}, password: ${registerPassword}`)\r\n    axios.post(`${URL}/v1/auth/register`, {\r\n      name: registerName,\r\n      email: registerEmail,\r\n      password: registerPassword\r\n    })\r\n      .then(function (response) {\r\n        console.log('register success', response);\r\n        if (response && response.data && response.data.tokens && response.data.tokens.access) {\r\n          localStorage.setItem('token', JSON.stringify(response.data.tokens.access.token))\r\n          localStorage.setItem('user', JSON.stringify(response.data.user))\r\n          navigate ('/login');\r\n        }\r\n      })\r\n      .catch(function (error) {\r\n        if (error.response && error.response.status === 400 && error.response.data.message) {\r\n            window.alert('error', 'Registration Failed', `<b>[CODE] ${error.response.data.message}</b><br>Please check your username and password`);\r\n        } else {\r\n            window.alert('error', 'Registration Failed', `<b>[CODE] </b><br>An error occured during registration. Please try again later`);\r\n        }\r\n        console.error('Registration error', error.message);\r\n    }\r\n    );\r\n  }\r\n\r\n  console.log('data', registerName, registerEmail, registerPassword);\r\n  \r\n  // useEffect(() => {\r\n  //   const tokenFromLS = localStorage.getItem('token')\r\n  //   setToken(tokenFromLS)\r\n  // }, [])\r\n\r\n  // console.log('token', token)\r\n\r\n    return (\r\n        <div>\r\n          <Box\r\n            component=\"form\"\r\n            sx={{\r\n              '& .MuiTextField-root': { mt: 1, mb: 1, width: '25ch' },\r\n              height: '100vh',\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              justifyContent: 'center',\r\n              alignItems: 'center',\r\n            }}\r\n            noValidate\r\n            autoComplete=\"off\"\r\n          >\r\n\r\n            <Box sx={{\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              justifyContent: 'center',\r\n              alignItems: 'center',\r\n            }}>\r\n              <TextField\r\n                id=\"outlined-registerNameText\"\r\n                label=\"Name\"\r\n                defaultValue=\"\"\r\n                helperText=\"Type your name here\"\r\n                type='text'\r\n                onChange={(e) => setRegisterName(e.target.value)}\r\n              />\r\n              <TextField\r\n                id=\"outlined-registerEmailText\"\r\n                label=\"Email\"\r\n                defaultValue=\"\"\r\n                helperText=\"Type your email here\"\r\n                type='email'\r\n                onChange={(e) => setRegisterEmail(e.target.value)}\r\n              />\r\n              <TextField\r\n                id=\"outlined-registerPasswordText\"\r\n                label=\"Password\"\r\n                defaultValue=\"\"\r\n                helperText=\"Type your password here\"\r\n                type='password'\r\n                onChange={(e) => setRegisterPassword(e.target.value)}\r\n              />\r\n              <Button variant=\"contained\" onClick={() => onRegisterSubmit()}>Register</Button>\r\n            </Box>       \r\n\r\n            <Link href=\"#\" onClick={handleLoginLinkClick} target=\"_blank\" rel=\"noopener\">\r\n                Login here if you already have an account \r\n            </Link>\r\n\r\n      </Box>\r\n      </div>\r\n    );  \r\n}\r\n\r\nexport default Register;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}